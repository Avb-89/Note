
Столкнулся с проблемой установки Cisco VPN Client на Windows 7 да еще к тому же x64, 
если на Windows 7 x86 с шаманским бубном можно запустить, то на x64 все попытки будут тщетны(Cisco почти принципиально не хочет делать x64 Vpn Client).


Отправляюсь в поисковики… и видим следующие выходы из ситуации:

1. Установка AnyConnect VPN Client, который работает на x64 но в нем нет IPSec (не подходит).
2. Создать виртуальную машину Windows x86 и установить Cisco VPN Client.
3. Установить один из кучи альтернативных платных клиентов (к слову не один из них не заработал) 
4. Установка Windows x86 (и возможность получить BSOD на Win7 после установки Cisco Client) :)

Все вышеперечисленные методы мягко говоря непрактичные :)

5. Установка бесплатного OpenSource клиента Shrew (к слову он не только для Windows, но и для nix систем)

Идем по пути 5 :)

Качаем Shrew с оффициального сайта



Приведу пример как настроить туннелирование с групповой авторизацией («Group Authentication»):

1) Создадим новый профиль соединения (кнопка Add) 
и во вкладке General в поле «Host Name or IP address» укажем адрес шлюза IPSec и порт


2) Перейдем к вкладке «Client»
выберем force-rfc в пункте NAT traversal (всё остальное оставляем по умолчанию)

3) Перейдем к вкладке «Name Resolution» (тут все можно оставить по умолчанию, в большенстве случаев при грамотной настройке Cisco VPN Server сам вернет необходимые адреса)

4)Перейдем к вкладке «Authentication»
Установим «Authentication method» в Mutual PSK+Xauth (используеться если метод аутентификации по IPSec Group ID или по разделенному ключу )



4.1) Перейдем в подпункт «Local Identity», установим «Identification Type» = «Key Identifier» 
и впишем IPSec group ID в поле «Key ID String»

4.2)Перейдем в подпункт «Remote Identity» установим «Identification Type» = «Any»

4.3)Перейдем в подпункт «Credentials» и впишем наш групповой пароль (IPSec Group Password) в поле 
«Pre Shared Key»



5) Вкладки: Phase 1, Phase 2 и Policy не нуждаються в настройках, оставим всё по умолчанию

6) Сохраняем настройки соединения.

7) Нажимаем кнопку Connect
вводим свои учетные данные

Если всё хорошо в логе увидим заветную фразу «tunnel enabled»
