http://pechenek.net/sysmonitor/zabbix-nastroyka-mehanizma-opoveshheniya/

<ZABBIX — Настройка механизма оповещения>

  ZABBIX и его оповещения — не сложный механизм, тем не менее для его функционирования необходимо провести ряд определенных настроек. Фактически нам потребуется совершить немного больше действий для создания оповещения. Давайте разобьем их на 2 части, которые в статье будут разбиты разными заголовками:
  1. Создание способа оповещения
  2. Создание действия.
  Поехали.

  ZABBIX — Создание способа оповещения.

  Для того, чтобы получать письма через E-mail, нам нужно перейти в раздел «Администрирование» и в появившейся строке нажать кнопку «Способы оповещений».
  ZABBIX - Как создать способ оповещения

  ZABBIX — Как создать способ оповещения

  Как видите не всегда для настройки используется сочетание «Настройка» — > «Узлы сети», сегодняшний случай — исключение :). Давайте двигаться дальше. На появившейся странице в правом верхнем углу нажимаем на кнопку «Создать способ оповещения», после чего попадаем на страницу создания.
  Как создать способ оповещения - Страница создания

  Как всегда пробежимся по предлагаемым полям:

    Имя — видимо имя способа оповещения
    Тип — способ доставки оповещения
    SMTP сервер — почтовый сервер, который необходим для отправки оповещения.
    SMTP email — адресат, от которого заббикс будет высылать оповещение.

    Остальное можно оставить без изменений. (Но опять же зависит от ваших задач, не забываем, что мы в статьях стараемся как можно быстрее развернуть мониторинг). Нажимаем кнопку «Добавить», после чего попадаем на страницу способов оповещений, где уже имеется наш способ, который мы только что добавили.

    ZABBIX — Создание действия.

    Теперь нам необходимо создать так называемое «Действие», которое при определенных условиях будет использовать наш способ оповещения. Для этого нам нужно перейти на вкладку «Настройка» и в появившейся строке нажать на кнопку «Действия», как показано на скриншоте ниже.
  Как создать действие в ZABBIX - Страница действий

  Обратите внимание, что здесь отображается вся информация по действиям, уже имеющимся в системе. Нам нужна кнопка «Создать действие».
  В пример я приведу действие «KKT Notification»:
  Как создать действие в ZABBIX - Страница создания

  Как создать действие в ZABBIX — Страница создания

  Снова пройдемся по полям:

  Имя — видимое имя действия.
  Тип вычисления — здесь необходимо выбрать будут складываться ваши условия и выдавать алерт, или если хотя бы одно из условий нарушено, то генерируется алерт.
  Условия — условия срабатывания действия.

  Далее переходим на вкладку «Операции». Здесь нам необходимо нажать на кнопку «Новый» в поле «Операции».
  Как создать действие - Новая операция

  Как создать действие — Новая операция

  В появившихся поля нам необходимо указать:

  Шаги — количество выполнения данной операции.
  Длительность шага — время выполнения 1 шага.
  Тип операции — сама операция, это поле уже на ваш выбор.
  Отправлять группам пользователей — отправка сразу нескольким пользователям, входящих в указанную группу.
  Отправлять пользователям — отправка указанным пользователям. (не забудьте поставить себя и в своем профиле указать свой электронный адрес)
  Отправлять только через — способ отправки. (Нам нужен Email)
  Условия — дополнительные условия отправки. (Указываем «Событие подтверждено =  Не подтверждено»)

  Для того, чтобы добавить группу пользователей, пользователя отдельно или дополнительное условие, нажимайте на кнопки в этих полях «Добавить» и «Новый».

  После нажатия кнопки «Добавить», вас перенесет на страницу действий, где появится только что созданное действие. Теперь нам осталось проверить работоспособность нашего действия. Для этого мне необходимо снова зайти на сервер vtrsagent и выключу блокнот.

  После проделанных операций мне пришло письмо на почтовый адрес с содержанием проблемы:


  Выглядит не очень презентабельно, но если вчитаться, то можно понять, что упал блокнот на сервере.

  Ну-с, собственно все, могу вас поздравить! Вы только что создали систему оповещения алертов в заббиксе!
