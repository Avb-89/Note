Способ первый: команда dos2unix
Если вы работаете под Linux Debian или Linux Ubuntu, то команда должна быть в системе. Если ее нет, то устанавливаем ее:
?
1
# apt-get install dos2unix
После чего можно приступить к перекодированию:
?
1
# dos2unix your-script.sh
По завершении перекодирования все должно нормально работать.


Обычно сообщение bad interpreter о «Плохом интерпретаторе» возникает после внесения изменений в скрипт на виндовой машине и загрузке этого скрипта на Linux. Сообщение может быть следующего вида:
?
1
/bin/sh^M: bad interpreter: No such file or directory
Или на русский манер, если система локализована по великую и необъятную:
?
1
/bin/sh^M: плохой интерпретатор: Нет такого файла или каталога
Суть проблемы в том, что под на платформе Windows редакторы добавляют символ «возврата каретки» CR/LF. Не все редакторы под Linux виндовый перенос строки умеют отображать, но он там есть, о чем свидетельствует сообщение об ошибке. В итоге в скрипте мы получаем, например первуют строку вместо:
?
1
#!/bin/sh
Нечто подобное:
?
1
#!/bin/shVM